<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="csrf-token" content={get_csrf_token()} />

    <.live_title suffix={assigns[:page_title] && " | Algora TV"}>
      <%= assigns[:page_title] || "Algora TV" %>
    </.live_title>

    <%= if assigns[:channel_handle] && assigns[:channel_uname] && assigns[:channel_tagline] do %>
      <meta name="description" content={assigns[:channel_tagline]} />
      <meta
        name="twitter:image:src"
        content={"#{AlgoraWeb.Endpoint.url()}/images/og/#{assigns[:channel_handle]}.png"}
      />
      <meta name="twitter:site" content="@algoraio" />
      <meta name="twitter:card" content="summary_large_image" />
      <meta name="twitter:title" content={"#{assigns[:channel_name]} | Algora TV"} />
      <meta name="twitter:description" content={assigns[:channel_tagline]} />
      <meta
        property="og:image"
        content={"#{AlgoraWeb.Endpoint.url()}/images/og/#{assigns[:channel_handle]}.png"}
      />
      <meta property="og:image:width" content="1200" />
      <meta property="og:image:height" content="630" />
      <meta property="og:site_name" content="Algora TV" />
      <meta property="og:type" content="website" />
      <meta property="og:title" content={"#{assigns[:channel_name]} | Algora TV"} />
      <meta property="og:url" content={"#{AlgoraWeb.Endpoint.url()}/#{assigns[:channel_handle]}"} />
      <meta property="og:description" content={assigns[:channel_tagline]} />
    <% else %>
      <meta
        name="description"
        content="Algora TV is an interactive livestreaming & video sharing service for developers."
      />
    <% end %>

    <link href="https://vjs.zencdn.net/8.10.0/video-js.css" rel="stylesheet" />
    <link phx-track-static rel="stylesheet" href={~p"/assets/app.css"} />
    <script>
      window.userToken = "<%= assigns[:user_token] %>";
    </script>
    <script defer phx-track-static type="text/javascript" src={~p"/assets/app.js"}>
    </script>
    <script defer data-domain="tv.algora.io" src="https://plausible.io/js/script.js">
    </script>
  </head>
  <body>
    <div class="fixed left-0 top-0 z-0 h-full w-full bg-[radial-gradient(ellipse_at_top_left,_var(--tw-gradient-stops))] from-gray-800 via-gray-900 to-gray-950" />
    <div
      class="fixed inset-x-0 -top-[12rem] -left-[30rem] z-0 flex transform justify-center overflow-hidden blur-3xl"
      aria-hidden="true"
    >
      <div
        class="aspect-[1318/752] w-[82.375rem] flex-none bg-gradient-to-r from-[#80caff] to-[#4f46e5] opacity-25"
        style="clip-path: polygon(73.6% 51.7%, 91.7% 11.8%, 100% 46.4%, 97.4% 82.2%, 92.5% 84.9%, 75.7% 64%, 55.3% 47.5%, 46.5% 49.4%, 45% 62.9%, 50.3% 87.2%, 21.3% 64.1%, 0.1% 100%, 5.4% 51.1%, 21.4% 63.9%, 58.9% 0.2%, 73.6% 51.7%)"
      >
      </div>
    </div>
    <div class="relative py-4 px-4 sm:px-6 lg:px-8">
      <.header class="pb-4">
        <.logo />
        <:actions>
          <.link
            navigate="/auth/login"
            class="flex rounded px-5 py-2.5 overflow-hidden group bg-purple-500 relative hover:bg-gradient-to-r hover:from-purple-500 hover:to-purple-400 text-white hover:ring-2 hover:ring-offset-2 hover:ring-purple-400 transition-all ease-out duration-300"
          >
            <span class="absolute right-0 w-8 h-32 -mt-12 transition-all duration-1000 transform translate-x-12 bg-white opacity-10 rotate-12 group-hover:-translate-x-40 ease">
            </span>
            <span class="relative font-semibold">Login</span>
          </.link>
        </:actions>
      </.header>
      <%= @inner_content %>
    </div>
  </body>
</html>
